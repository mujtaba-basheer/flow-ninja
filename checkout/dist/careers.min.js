window.addEventListener("load",async()=>{const a={jobs:[],filteredJobs:[],filters:{locations:[],teams:[],input:""},dropdowns:{location:{isEmpty:!0,selected:[]},team:{isEmpty:!0,selected:[]}}},b=()=>{try{const b=document.querySelector("div.careers-job-list"),c=document.querySelector("div.careers-empty-state");if(b){b.querySelectorAll("a").forEach(a=>a.remove());for(const c of a.filteredJobs){const a=document.createElement("a");a.id=c.id,a.className="careers-table-item w-inline-block",a.href=c.url,a.target="_blank";{const b=document.createElement("div");b.textContent=c.title;const d=document.createElement("div");d.className="font-weight-300",d.textContent=c.team;const e=document.createElement("div");e.className="font-weight-300",e.style.justifySelf="end",e.textContent=c.location,a.appendChild(b),a.appendChild(d),a.appendChild(e)}b.appendChild(a)}const d=document.getElementById("number-of-jobs");d&&(d.textContent=a.filteredJobs.length+""),c&&(a.filteredJobs.length?c.style.display="none":c.style.display="block")}}catch(a){console.error(a)}},c=()=>{let b=[...a.jobs];const{locations:c,teams:d,input:e}=a.filters;b=b.filter(a=>(!c.length||c.includes(a.location))&&(!d.length||d.includes(a.team))&&a.title.toLowerCase().includes(e.toLowerCase())),a.filteredJobs=b},d=document.querySelector("div.careers-job-list");if(d){try{const c=await fetch(" https://0a50cfhnal.execute-api.us-east-1.amazonaws.com/sandbox/jobs"),d=await c.json();if(d.status){const c=d.data;c.sort((c,a)=>c.title.localeCompare(a.title)),a.jobs=c,a.filteredJobs=c,b()}else throw new Error(d.msg)}catch(a){console.error(a)}const d=document.getElementById("careers-search");d&&d.addEventListener("input",()=>{const e=d.value.trim();a.filters.input=e,c(),b()})}});