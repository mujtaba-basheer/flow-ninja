window.addEventListener("load",()=>{const a=["en-en","fr-fr","de-de","es-es","it-it","ar-ae","ar-sa","pt-pt","zh-cn","en-US"];fetch("https://checkout-website-cko-web.vercel.app/api/geo").then(a=>{if(200===a.status)return a.json();throw new Error(a.statusText)}).then(b=>{let c=b["accept-language"];c.includes(",")&&(c=c.split(",")[0]);const d=document.querySelector("div.language-banner");if(d){const a=d.querySelector("img.language-banner-close");a&&a.addEventListener("click",()=>{d.style.display="none"})}c.startsWith("en")?d&&(d.style.display="none"):"/"===window.location.pathname&&a.includes(c)?window.location.pathname=`/${c}`:d&&!window.sessionStorage.getItem("__lang_changed")&&(window.sessionStorage.setItem("__lang_changed","true"),d.style.display="flex")}).catch(console.error);const b=document.querySelectorAll("div.language-dropdown-inner-list div.countries-inner-wrap");{let{pathname:c}=window.location,d="en-en";for(const b of a)c.startsWith("/"+b)&&(d=b,c="/"+c.substring(b.length+2));b.forEach(a=>{const b=a.querySelectorAll("a");b.forEach(a=>{const b=a.id,e=b.substring(0,5),f="en-en"===e?"":"/"+e;a.addEventListener("click",()=>{d!==e&&(window.sessionStorage.setItem("__lang_changed","true"),c=f+c,window.location.pathname=c)})})})}});