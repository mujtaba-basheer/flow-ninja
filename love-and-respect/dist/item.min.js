window.addEventListener("load",()=>{const a=4,[,b,c]=window.location.pathname.split("/");if("blog"===b){const b=JSON.parse(localStorage.getItem("recently-visited-items")||"[]"),d=b.findIndex(b=>b.id===c);if(-1!==d)for(let a=d;0<a;a--){const c=b[a];b[a]=b[a-1],b[a-1]=c}else{const d={id:c,type:"blog",heading:"",image_url:"",time_to_read:"",paragraph_text:"",category:"",color:{tag:"rgb(4, 136, 210)",text:"rgb(255, 255, 255)"},url:"",url:window.location.href},e=document.querySelector("h1#card-heading");e&&(d.heading=e.textContent+"");const f=document.querySelector("img#card-image");f&&(d.image_url=f.src);const g=document.querySelector("div#time-to-read");g&&(d.time_to_read=g.textContent+"");const h=document.querySelector(`div[data-rich-text="paragraph"]`);if(h){const a=h.querySelector("p");a&&(d.paragraph_text=a.textContent+"")}const i=document.querySelector("div#card-category");i&&(d.category=i.textContent+"",d.color.tag=i.style.backgroundColor,d.color.text=i.style.color),b.length===a&&b.pop(),b.unshift(d)}localStorage.setItem("recently-visited-items",JSON.stringify(b))}else if("ask-emerson"===b){const b=JSON.parse(localStorage.getItem("recently-visited-items")||"[]"),d=b.findIndex(b=>b.id===c);if(-1!==d)for(let a=d;0<a;a--){const c=b[a];b[a]=b[a-1],b[a-1]=c}else{const d={id:c,type:"ask-emerson",heading:"",image_url:"",length:"",category:"",paragraph_text:"",color:{tag:"rgb(4, 136, 210)",text:"rgb(255, 255, 255)"},url:"",url:window.location.href},e=document.querySelector("h1#card-heading");e&&(d.heading=e.textContent+"");const f=document.querySelector("img#card-image");f&&(d.image_url=f.src);const g=document.querySelector("div#episode-duration");g&&(d.length=g.textContent+"");const h=document.querySelector(`div[data-rich-text="paragraph"]`);if(h){const a=h.querySelector("p");a&&(d.paragraph_text=a.textContent+"")}const i=document.querySelector("div#card-category");i&&(d.category=i.textContent+"",d.color.tag=i.style.backgroundColor,d.color.text=i.style.color),b.length===a&&b.pop(),b.unshift(d)}localStorage.setItem("recently-visited-items",JSON.stringify(b))}else if("podcast"===b){const b=JSON.parse(localStorage.getItem("recently-visited-items")||"[]"),d=b.findIndex(b=>b.id===c);if(-1!==d)for(let a=d;0<a;a--){const c=b[a];b[a]=b[a-1],b[a-1]=c}else{const d={id:c,type:"podcast",heading:"",image_url:"",episode_number:"",length:"",paragraph_text:"",category:"",color:{tag:"rgb(4, 136, 210)",text:"rgb(255, 255, 255)"},url:"",url:window.location.href},e=document.querySelector("h1#card-heading");e&&(d.heading=e.textContent+"");const f=document.querySelector("img#card-image");f&&(d.image_url=f.src);const g=document.querySelector("div#episode-info div.episode-number");g&&(d.episode_number=g.textContent+"");const h=document.querySelector("div#episode-duration");h&&(d.length=h.textContent+"");const i=document.querySelector(`div[data-rich-text="paragraph"]`);if(i){const a=i.querySelector("p");a&&(d.paragraph_text=a.textContent+"")}const j=document.querySelector("div#card-category");j&&(d.category=j.textContent+"",d.color.tag=j.style.backgroundColor,d.color.text=j.style.color),b.length===a&&b.pop(),b.unshift(d)}localStorage.setItem("recently-visited-items",JSON.stringify(b))}else if("courses"===b){const d=JSON.parse(localStorage.getItem("courses")||"[]"),e=d.findIndex(b=>b.id===c);if(-1!==e)for(let a=e;0<a;a--){const b=d[a];d[a]=d[a-1],d[a-1]=b}else{const e={id:c,heading:"",image_url:"",url:"",type:b,session:0,url:window.location.href},f=document.querySelector("h1#card-heading");f&&(e.heading=f.textContent+"");const g=document.querySelector("img#card-image");g&&(e.image_url=g.src),d.length===a&&d.pop(),d.unshift(e)}localStorage.setItem("courses",JSON.stringify(d))}else if("the-love-and-respect-experience-video-devotional"===b||"15-day-marriage-plan"===b){const d=JSON.parse(localStorage.getItem("courses")||"[]"),e=d.findIndex(c=>c.type===b);if(-1!==e){d[e].url=window.location.href;for(let a=e;0<a;a--){const b=d[a];d[a]=d[a-1],d[a-1]=b}}else{const e={id:c,heading:"",image_url:"",url:"",type:b,session:0,url:window.location.href},f=document.querySelector("h1#card-heading");f&&(e.heading=f.textContent+""),"the-love-and-respect-experience-video-devotional"===b?e.image_url=`https://uploads-ssl.webflow.com/6033bb06812d4c6b521b0c9e/64d216ac1670476693fc42d3_64b0297ed59e42dc1353d0a9_Love%20and%20Respect%20Experience%20Devotional%201%20(1).webp`:"15-day-marriage-plan"===b&&(e.image_url=`https://uploads-ssl.webflow.com/6033bb06812d4c6b521b0c9e/64d2161b1339b5903b846eea_64b029459c9dbdfa44ffb09b_15%20Day%20Marriage%20Plan.webp`),d.length===a&&d.pop(),d.unshift(e)}localStorage.setItem("courses",JSON.stringify(d))}else if("sessions"===b){const a=JSON.parse(localStorage.getItem("courses")||"[]"),b=document.getElementById("course-slug");if(b){let c="";const d=b.textContent;d&&(c=d.trim());const e=a.findIndex(b=>b.id===c);if(-1!==e){a[e].url=window.location.href;for(let b=e;0<b;b--){const c=a[b];a[b]=a[b-1],a[b-1]=c}localStorage.setItem("courses",JSON.stringify(a))}}else console.error("Error: Hidden elements for course slug missing!")}});