const getStats=()=>new Promise((a,b)=>{fetch("https://6b9d3y1jhj.execute-api.us-east-1.amazonaws.com/prod/stats-v2",{method:"GET"}).then(a=>a.json()).then(a).catch(b)}),renderFilterOptions=a=>{const b=document.getElementById("wf-form-Career-Form");if(b){const c=b.querySelector("select[name=\"field\"]");c&&($(c).niceSelect("destroy"),c.querySelectorAll("option").forEach((a,b)=>0!==b&&a.remove()),a.countries.details.forEach(a=>{const b=document.createElement("option");b.value=a.name,b.text=a.name,c.appendChild(b)}),$(c).niceSelect());const d=b.querySelector("select[name=\"field-2\"]");d&&($(d).niceSelect("destroy"),d.querySelectorAll("option").forEach((a,b)=>0!==b&&a.remove()),a.locations.details.forEach(a=>{const b=document.createElement("option");b.value=a.name,b.text=a.name,d.appendChild(b)}),$(d).niceSelect());const e=b.querySelector("select[name=\"field-3\"]");e&&($(e).niceSelect("destroy"),e.querySelectorAll("option").forEach((a,b)=>0!==b&&a.remove()),a.departments.details.forEach(a=>{const b=document.createElement("option");b.value=a.name,b.text=a.name,e.appendChild(b)}),$(e).niceSelect())}};window.addEventListener("load",async()=>{try{const{data:a}=await getStats(),b=document.querySelector("div#jobs-preloader");b&&(b.style.display="none"),renderFilterOptions(a);const c=document.getElementById("wf-form-Career-Form");if(c){const a=()=>{const a={role:"",country:"",office:"",career_path:""},b=c.querySelector("input[name=\"Role\"]");b&&(a.role=b.value);const d=c.querySelector("select[name=\"field\"]");d&&(a.country=d.value);const e=c.querySelector("select[name=\"field-2\"]");e&&(a.office=e.value);const f=c.querySelector("select[name=\"field-3\"]");f&&(a.career_path=f.value);const g=new URLSearchParams;for(const b of Object.keys(a))g.set(b,a[b]);window.location.href=`https://${window.location.hostname}/jobs?${g.toString()}`};c.addEventListener("submit",b=>{b.preventDefault(),b.stopImmediatePropagation(),a()})}}catch(a){console.error(a)}});