window.addEventListener("load",()=>{const a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0,minimumFractionDigits:0}),b=["one","two","three","four","five","six","seven","eight"],c=document.querySelector("div.sticky-calculator-block"),d=c.querySelectorAll("div.calculator-cell:not(:last-child)"),e=document.getElementById("gr-full-total-side"),f=document.getElementById("gr-full-total"),g=()=>{let c=0;for(let a=0;a<d.length;a++){const e=d[a],f=e.querySelector(`div#gr-${b[a]}-total-side`);if(f){const a=+(f.getAttribute("data-total")||0);isNaN(a)||(c+=a)}}e.textContent=a.format(c),f.textContent=a.format(c)},h=(b,c,d)=>{let e=0;for(const a of b){const b=a.value;e+=b?+b.substring(1):0}c.value=a.format(e),d.textContent=a.format(e),d.setAttribute("data-total",e),g()},k=(a,c,d,e,f)=>{let g=0;const h=d.getAttribute("data-href");if(1<a.length)a=`,${a.substring(1)}`,g=a.substring(1),c.style.display="block",d.style.display="inline-block";else{d.style.display="none";const a=c.querySelectorAll("a div.price-wrap div:not(:first-child)");let b=!0;for(const c of a)if("0"!==c.textContent){b=!1;break}b&&(c.style.display="none")}d.setAttribute("href",h+a);const i=document.getElementById(`gr-${b[e]}-${b[f]}-price`);i&&(i.textContent=g)},l=document.querySelectorAll("div.explore-block");l.forEach(a=>{const b=a.querySelectorAll("a");b.forEach(a=>a.setAttribute("data-href",a.getAttribute("href")))});const m=document.querySelectorAll("div.calculator-block:not(.bordered-block)");m.forEach((a,c)=>{const d=a.querySelector(`input#gr-${b[c]}-total`),e=document.querySelector(`div#gr-${b[c]}-total-side`),f=a.querySelectorAll(`input:not(#gr-${b[c]}-total)`),g=a.querySelector("div.explore-block");f.forEach((a,i)=>{const j=document.getElementById(`gr-${b[c]}-${b[i]}-link`),l=a.getAttribute("data-default"),m=l?`$${l}`:"";a.value=m,j&&k(m,g,j,c,i),a.addEventListener("input",a=>{const{data:b,inputType:l}=a;let m=a.target.value.replace(/\s/g,""),n=m;l.startsWith("delete")?(!m.includes("$")&&(n="$"+m),"$"===m&&(n="")):l.startsWith("insert")&&(1===m.length&&!isNaN(+b)&&(m="$"+m),n=isNaN(+b)?m.replace(b,""):m),a.target.value=n,h(f,d,e),g&&j&&k(n,g,j,c,i)})}),h(f,d,e)})});