const maps={download:"windows-download",list:"windows-dropdown-list",toggle:"windows-toggle",dropdown:"windows-dropdown",hash:"windowhash",data:{Prod:{version:"5.6.8.0",downloadUrls:{"windows-32":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup.exe","windows-64":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup64.exe"},compatibility:{recommended:"Works best on Windows 7 and higher.",supported:"Upwork provides support for Windows 7 and all later versions."}},Beta:{version:"5.6.8.0",downloadUrls:{"windows-32":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup.exe","windows-64":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup64.exe"},compatibility:{recommended:"Works best on Windows 7 and higher.",supported:"Upwork provides support for Windows 7 and all later versions."}},Alpha:{version:"5.6.8.0",downloadUrls:{"windows-32":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup.exe","windows-64":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup64.exe"},compatibility:{recommended:"Works best on Windows 7 and higher.",supported:"Upwork provides support for Windows 7 and all later versions."}},Pre_Alpha:{version:"5.6.8.0",downloadUrls:{"windows-32":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup.exe","windows-64":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup64.exe"},compatibility:{recommended:"Works best on Windows 7 and higher.",supported:"Upwork provides support for Windows 7 and all later versions."}},UTA_Test:{version:"5.6.8.0",downloadUrls:{"windows-32":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup.exe","windows-64":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_6_8_0_836f43f6f6be4149/UpworkSetup64.exe"},compatibility:{recommended:"Works best on Windows 7 and higher.",supported:"Upwork provides support for Windows 7 and all later versions."}},UTA_5_2:{version:"5.2.3.771",downloadUrls:{"windows-32":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_2_3_771_okk32anbjc976nah/UpworkSetup.exe","windows-64":"https://upwork-usw2-desktopapp.upwork.com/binaries/v5_2_3_771_okk32anbjc976nah/UpworkSetup64.exe"},compatibility:{recommended:"Works best on Windows 7 and higher.",supported:"Upwork provides support for Windows 7 and all later versions."}}}},checkLogin=()=>{fetch("/i/api/logged-in/").then(a=>a.json()).then(a=>{a?($(".logged-in").css("display","block"),$(".logged-out").css("display","none")):($(".logged-in").css("display","none"),$(".logged-out").css("display","block"))})},isDigit=a=>1===a.length&&a.match(/[0-9]/i),transformVersion=(a="")=>{let b=a.split("-").map(a=>isDigit(a[0])?a.toUpperCase():1<a.length?a[0].toUpperCase()+a.substring(1):a.toUpperCase()).join("-");return b},sha256=async a=>{const b=new TextEncoder().encode(a),c=await crypto.subtle.digest("SHA-256",b),d=Array.from(new Uint8Array(c)),e=d.map(a=>a.toString(16).padStart(2,"0")).join("");return e},getDropdownList=()=>new Promise(async a=>{const{data:b}=maps,c=[];for(const d of["Prod","Beta"])for(const a of Object.keys(b[d].downloadUrls)){const e=b[d].downloadUrls[a];c.push({version:transformVersion(a)+("Prod"===d?"":` - Beta Version`),link:e,sha256:"SHA256: "+(await sha256(e))})}a(c)});window.addEventListener("load",async()=>{checkLogin();try{const a=await getDropdownList(),b=document.getElementById(maps.dropdown),c=document.getElementById(maps.toggle),d=document.getElementById(maps.list);for(const e of a){const{version:a,link:f,sha256:g}=e,h=document.createElement("a");h.classList.add("dropdown-download-link"),h.classList.add("w-dropdown-link"),h.setAttribute("href","#"),h.setAttribute("tabindex","0"),h.textContent=a,h.addEventListener("click",()=>{$(`#${maps.download}`).attr("href",f),b.style.removeProperty("z-index"),d.classList.remove("w--open"),document.getElementById(maps.hash).textContent=g,c.classList.remove("w--open"),c.setAttribute("aria-expanded","false"),c.querySelector(`#${maps.toggle} div:last-child`).textContent=a}),d.append(h)}}catch(a){console.error(a)}});