/**
 * Minified by jsDelivr using UglifyJS v3.4.3.
 * Original file: /npm/walkway.js@0.0.9/src/walkway.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Walkway=e()}(this,function(t){"use strict";var o=0;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame,window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),i=Math.max(0,16-(n-o)),a=window.setTimeout(function(){t(n+i)},i);return o=n+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var e={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};var a=[],r=[];function n(t){return this instanceof n?("string"==typeof t&&(t={selector:t}),t.selector?(this.opts=t,this.selector=t.selector,this.duration=t.duration||500,this.easing="function"==typeof t.easing?t.easing:e[t.easing]||e.easeInOutCubic,this.id=!1,this.elements=this.getElements(),this.callback=t.callback,this.setInitialStyles(),a=a.concat(this.elements),void r.push(this)):this.error("A selector needs to be specified")):new n(t)}function u(t,e,n){this.el=t,this.duration=e,this.easing=n,this.animationStart=null,this.animationStarted=!1}function s(t,e,n){u.call(this,t,e,n),this.length=t.getTotalLength()}function c(t,e,n){var i,a,o,r,s;u.call(this,t,e,n),this.length=(a=(i=t).getAttribute("x1"),o=i.getAttribute("x2"),r=i.getAttribute("y1"),s=i.getAttribute("y2"),Math.sqrt(Math.pow(a-o,2)+Math.pow(r-s,2)))}function l(t,e,n){u.call(this,t,e,n),this.length=function(t){var e,n,i,a,o,r=0,s=t.points.numberOfItems;for(o=1;o<s;o++)e=t.points.getItem(o-1).x,n=t.points.getItem(o).x,i=t.points.getItem(o-1).y,a=t.points.getItem(o).y,r+=Math.sqrt(Math.pow(e-n,2)+Math.pow(i-a,2));return r}(t)}return document.addEventListener("visibilitychange",function(){if(document.hidden){for(var t=0,e=r.length;t<e;t++)r[t].cancel();for(var n=0,i=a.length;n<i;n++)a[n].complete()}},!1),n.prototype={constructor:n,error:function(t){console.error("Walkway error: "+t)},getElements:function(){var n,e=this,t=(n=this.selector,["path","line","polyline"].reduce(function(t,e){return t+n+" "+e+", "},"").slice(0,-2)),i=document.querySelectorAll(t);return(i=Array.prototype.slice.call(i)).map(function(t){return"path"===t.tagName?new s(t,e.duration,e.easing):"line"===t.tagName?new c(t,e.duration,e.easing):"polyline"===t.tagName?new l(t,e.duration,e.easing):void 0})},setInitialStyles:function(){this.elements.forEach(function(t){t.el.style.strokeDasharray=t.length+" "+t.length,t.el.style.strokeDashoffset=t.length})},draw:function(t){var e=this.elements.length,n=this.elements.filter(function(t){return t.done}).length===e,i=null;if(this.callback=t||this.callback,n)return this.callback&&"function"==typeof this.callback&&this.callback(),void this.cancel();for(;e--;)(i=this.elements[e]).update()&&(i.done=!0);this.id=window.requestAnimationFrame(this.draw.bind(this,t))},cancel:function(){window.cancelAnimationFrame(this.id)},redraw:function(){this.cancel(),this.elements.forEach(function(t){t.reset()}),this.draw()}},u.prototype={constructor:u,update:function(){this.animationStarted||(this.animationStart=Date.now(),this.animationStarted=!0);var t=this.easing((Date.now()-this.animationStart)/this.duration);return this.fill(t),1<=t},fill:function(t){var e=Math.ceil(this.length*(1-t));this.el.style.strokeDashoffset=e<0?0:Math.abs(e)},complete:function(){this.fill(1)},reset:function(){this.done=!1,this.animationStart=0,this.animationStarted=!1,this.fill(0)}},s.prototype=c.prototype=l.prototype=Object.create(u.prototype),n});
//# sourceMappingURL=/sm/439dc152d32df81db52c3cd99bc86037a4e98c5944760c3130e09347b2bd8575.map